{% extends 'codeapp/code.html' %}
{% load static %}
{% block more_js %}
    <script src="{% static 'codeapp/js/docs.js' %}"></script>
{% endblock %}

{% block challenge_section %}
    {{ lang|json_script:"doc-lang" }}
    <div id="challenge_section" class="col-sm-12 col-lg-6">
        <div class="container-fluid">
            <div class="d-flex justify-content-center mt-4 text-danger"><h2>Javascript Doc</h2></div>   
            <h4 class="mt-3">Writing to standard output</h4>
            <div class="code-sample">
                <p>Use the <strong>console.log</strong> function or <strong>process.stdout.write</strong> to write on standard output</p>
                <p>Simple print:</p>
                <pre data-lang="{{ lang }}">
console.log("Hello World")</pre>   
                <a href="#output-info" class="btn btn-primary try-sample">Try sample</a>
            </div>
            <div class="code-sample">
                <p>Note that the <strong>console.log</strong> function adds a newline at the end of the sentence.</p>
                <p>Escaping new lines:</p>
                <pre data-lang="{{ lang }}">
process.stdout.write("Hello")
process.stdout.write(" World")</pre>
                <a href="#output-info" class="btn btn-primary try-sample">Try sample</a>
            </div>
            <h4 class="mt-4">Read from standard input</h4>
            <div class="code-sample">
                <p>Use the <strong>readline</strong> module to read from standard input,
                    note that the entry must be defined before running the code</p>
                <pre data-input="John Doe&#10;" data-lang="{{ lang }}">
const readline = require('readline');

const rl = readline.createInterface({
    input: process.stdin,
    output: process.stdout
});
rl.question("", function (name) {
    console.log(`Hello ${name}`);
    rl.close();
});</pre>
                <a href="#output-info" class="btn btn-primary try-sample">Try sample</a>
            </div>
            <div class="code-sample">
                <p>Reading multiple entries and handle input type</p>
                <pre data-input="120&#10;20.5" data-lang="{{ lang }}">
const readline = require('readline');

const rl = readline.createInterface({
    input: process.stdin,
    output: process.stdout
});
// calc x + y
rl.question("", function (x) {
    rl.question("", function (y) {
        console.log(`${x} + ${y} = ${Number(x) + Number(y)}`);
        rl.close();
    });
});</pre>
                <a href="#output-info" class="btn btn-primary try-sample">Try sample</a>
            </div>
            <h4 class="mt-4">Run time out</h4>
            <div class="code-sample">
                <p>Your code times out after a few seconds of execution, avoid slow codes:</p>
                <pre data-lang="{{ lang }}">
function sleep(ms) {
  return new Promise(resolve => setTimeout(resolve, ms));
}

async function main(){
    await sleep(10000); // 10 seconds
    console.log("I'm tired of waiting &#9785; aff...");
}

main();</pre>
                <a href="#output-info" class="btn btn-primary try-sample">Try sample</a>
            </div>
        </div>
    </div>
{% endblock %}